<!--#include file="inc-header.html"-->
<main class="main">
  <div class="container">
    <div class="page-wrapper">
      <ul class="breadcrumbs">
        <li>
          <a href="#"> Home </a>
        </li>
        <li>My Account</li>
      </ul>
      <h1 class="page-title">My Account</h1>
      <div class="account">
        <div class="row">
          <div class="col-md-3 ui-sticky" data-minBreakpoint="1024">
            <aside class="account-sidebar ui-sticky-element">
              <nav class="account-nav">
                <ul>
                  <li class="active">
                    <a href="#">Account Information</a>
                  </li>
                  <li><a href="#">Account Security</a></li>
                  <li><a href="#">Email Settings</a></li>
                  <li><a href="#">Purchases</a></li>
                  <li><a href="#">Reviews</a></li>
                  <li><a href="#">Payment Method</a></li>
                  <li><a href="#">Favorites</a></li>
                  <li><a href="#">Support</a></li>
                  <li><a href="#">Membership</a></li>
                  <li><a href="#">Log out</a></li>
                </ul>
              </nav>
            </aside>
          </div>
          <div class="col-md-9">
            <div class="account-photo-upd">
              <img
                src="./images/profile.png"
                alt="User photo"
                class="account-photo-user"
              />
              <button class="ui-btn ui-btn__green">Click to upload</button>
            </div>
            <form class="form-auth-edit">
              <div class="row">
                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="emailAdress"
                      >Email Address</label
                    >
                    <input
                      type="email"
                      class="ui-input"
                      name="email-address"
                      id="emailAdress"
                      placeholder="Ivanov@gmail.com"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="password"
                      >Enter Password</label
                    >
                    <input
                      type="password"
                      class="ui-input"
                      id="password"
                      name="password"
                      minlength="8"
                    />
                  </div>
                </div>
              </div>
              <button class="ui-btn ui-btn__dark" type="submit">
                Update Details
              </button>
            </form>

            <form class="form-update">
              <div class="row">
                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="firstName"
                      >First Name</label
                    >
                    <input
                      type="text"
                      class="ui-input"
                      name="first-name"
                      id="firstName"
                      placeholder="Ivan"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="lastName"
                      >Last Name</label
                    >
                    <input
                      type="text"
                      class="ui-input"
                      name="last-name"
                      id="lastName"
                      placeholder="Ivanov"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="phoneNumber"
                      >Phone Number</label
                    >
                    <div class="ui-tel-group">
                      <input
                        type="tel"
                        class="ui-tel-group-input"
                        name="number"
                        id="phoneNumber"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="country">Country</label>
                    <select
                      class="ui-select ui-select__simple"
                      name="country"
                      id="country"
                    >
                      <option value="1">Belarus</option>
                      <option value="2">Poland</option>
                    </select>
                  </div>
                </div>

                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="postcode"
                      >Zip Code / Postcode</label
                    >
                    <input
                      type="text"
                      class="ui-input"
                      name="postcode"
                      id="postcode"
                      placeholder="000000"
                      maxlength="6"
                    />
                  </div>
                </div>

                <div class="col-sm-6">
                  <div class="ui-field">
                    <label class="ui-field-name" for="language">Language</label>
                    <select
                      class="ui-select ui-select__simple"
                      id="language"
                      name="language"
                    >
                      <option value="1">English</option>
                      <option value="2">Polish</option>
                    </select>
                  </div>
                </div>
              </div>
              <button class="ui-btn ui-btn__dark" type="submit">
                Update Details
              </button>
            </form>

            <script>
              document.addEventListener("DOMContentLoaded", (event) => {
                $(document).ready(function () {
                  $(".form-auth-edit").on("submit", function (e) {
                    if (!$(".form-auth-edit").valid()) e.preventDefault();
                  });
                  $(".form-auth-edit").validate({
                    errorElement: "span",
                    errorClass: "invalid",

                    rules: {
                      "email-address": {
                        required: true,
                        email: true,
                      },
                      password: {
                        required: true,
                        minlength: 8,
                        maxlength: 16,
                      },
                    },
                    errorPlacement: function (error, element) {
                      if (element.hasClass("ui-select")) {
                        element.closest(".ui-field").append(error);
                      }
                      if (element.hasClass("ui-input")) {
                        element.closest(".ui-field").append(error);
                      }
                      if (element.hasClass("ui-tel-group-input")) {
                        element.closest(".ui-field").append(error);
                      }
                    },
                  });

                  $(".form-update").on("submit", function (e) {
                    if (!$(".form-update").valid()) e.preventDefault();
                  });
                  $(".form-update").validate({
                    errorElement: "span",
                    errorClass: "invalid",

                    rules: {
                      "first-name": {
                        required: true,
                        noDigits: true,
                      },
                      "last-name": {
                        required: true,
                        noDigits: true,
                      },
                      number: {
                        required: true,
                      },

                      country: {
                        required: true,
                      },

                      postcode: {
                        required: true,
                      },

                      language: {
                        required: true,
                      },
                    },
                    errorPlacement: function (error, element) {
                      if (element.hasClass("ui-tel-group-input")) {
                        element.closest(".ui-field").append(error);
                      }
                      if (element.hasClass("ui-select")) {
                        element.closest(".ui-field").append(error);
                      }
                      if (element.hasClass("ui-input")) {
                        element.closest(".ui-field").append(error);
                      }
                    },
                  });
                });

                IMask(document.getElementById("postcode"), { mask: "000000" });
                // IMask(document.getElementById("phoneNumber"), {
                //   mask: "+375 (29) 000-00-00",
                // });

                const phoneInput = document.querySelector(
                  'input[name="number"]'
                );
                window.intlTelInput(phoneInput, {
                  separateDialCode: true,
                  initialCountry: "by",
                  strictMode: true,
                  hiddenInput: function (telInputName) {
                    return {
                      phone: "phone_full",
                      country: "country_code",
                    };
                  },
                });
              });
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!--#include file="inc-footer.html"-->
